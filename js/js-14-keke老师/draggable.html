<!doctype html>
<html>
  <head>
     <meta charset = "utf-8" />
     <title></title>
     <style type="text/css">
     *{margin:0;padding:0;}
     body{font-size:14px;font-family:"微软雅黑";color:green;}
     .dialog{position:absolute;width:300px;height:200px;border:1px solid red;background:#dedede;}
     .console{width:300px;height:90px;border:1px solid #666;margin:100px 0;}
     </style>
  </head>
  <body>
     <div class="console"></div>
     <div id="box">
         <div class="dialog"></div>
         <div class="dialog" style="background:red;"></div>     
     </div>
     <script type="text/javascript" src="js/jquery-1.11.2.min.js"></script>
     <script type="text/javascript">
     /*
         定位,事件mousedown,mousemove,mouseup
         坐标元素左顶点:left,top
         javascript event
         mousedown：鼠标按下事件。
     */
        $(function(){
            var flag = true;
            $(".dialog").mousedown(function(e){
                 //获取当前鼠标按下去的坐标
                 flag = true;
                 if(flag){
                   var x = e.clientX;
                   var y = e.clientY;
                   var left = $(this).offset().left;
                   var top = $(this).offset().top;
                   var $this = $(this);
                 }
                 $(document).mousemove(function(e){
                    if(flag){
                       var nx = e.clientX;
                       var ny = e.clientY;
                       var t = ny+top-y;
                       var l = nx+left-x;
                       $this.css({left:l,top:t});                  
                    }
                 });
            }).mouseup(function(){
                 flag = false;
            });
        });
     </script>
  </body>
</html>